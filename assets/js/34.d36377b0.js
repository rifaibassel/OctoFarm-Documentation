(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{410:function(e,o,t){"use strict";t.r(o);var a=t(27),r=Object(a.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"environment-variables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#environment-variables"}},[e._v("#")]),e._v(" Environment Variables")]),e._v(" "),t("p",[e._v("OctoFarm Server can be configured with environment variables. There's different ways to do this "),t("strong",[e._v("for each setup")]),e._v(":")]),e._v(" "),t("ul",[t("li",[e._v("specify a "),t("code",[e._v(".env")]),e._v(" file. This works for these setups:\n"),t("ul",[t("li",[e._v("NodeJS with "),t("code",[e._v("pm2")])]),e._v(" "),t("li",[e._v("NodeJS with "),t("code",[e._v("nodemon")])])])]),e._v(" "),t("li",[e._v("docker - specify each variable separately, this can become tedious:\n"),t("ul",[t("li",[e._v("docker: using the "),t("code",[e._v("-e VARIABLE=value")]),e._v(" command repeatedly")])])]),e._v(" "),t("li",[e._v("docker - all at once\n"),t("ul",[t("li",[e._v("docker: using the "),t("code",[e._v("--env-file ./.env")]),e._v(" command "),t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/run/#options",target:"_blank",rel:"noopener noreferrer"}},[e._v("(Read docker options)"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("docker-compose: using the "),t("code",[e._v("environment")]),e._v(" section "),t("a",{attrs:{href:"https://docs.docker.com/compose/environment-variables/",target:"_blank",rel:"noopener noreferrer"}},[e._v("(Read docker-compose environment)"),t("OutboundLink")],1)])])])]),e._v(" "),t("h2",{attrs:{id:"required-and-optional-variables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#required-and-optional-variables"}},[e._v("#")]),e._v(" Required and optional variables")]),e._v(" "),t("p",[e._v("The following variables are read and used by OctoFarm at startup. Always restart your server after a change.")]),e._v(" "),t("ul",[t("li",[e._v("MONGO (Required) "),t("strong",[e._v("the connection to mongodb")]),e._v(". For example:")])]),e._v(" "),t("blockquote",[t("p",[e._v("MONGO=mongodb://127.0.0.1:27017/octofarm")])]),e._v(" "),t("ul",[t("li",[e._v("OCTOFARM_PORT (Optional, default=4000) "),t("strong",[e._v("the port of the local OctoFarm website")]),e._v(". For example:")])]),e._v(" "),t("blockquote",[t("p",[e._v("OCTOFARM_PORT=4000")])]),e._v(" "),t("ul",[t("li",[e._v("OCTOFARM_SITE_TITLE "),t("strong",[e._v("Custom site title for OctoFarm")])])]),e._v(" "),t("blockquote",[t("p",[e._v("OCTOFARM_SITE_TITLE=OctoFarm")])]),e._v(" "),t("ul",[t("li",[e._v("LOG_LEVEL **Custom logging level, supports info, debug, silly")])]),e._v(" "),t("blockquote",[t("p",[e._v("LOG_LEVEL=info")])]),e._v(" "),t("h2",{attrs:{id:"the-env-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-env-file"}},[e._v("#")]),e._v(" The "),t("code",[e._v(".env")]),e._v(" file")]),e._v(" "),t("p",[e._v("A very simple text file with a variable per line. The following "),t("code",[e._v(".env")]),e._v(" is often already enough to make sure OctoFarm works as you like:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("MONGO")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("mongodb://127.0.0.1:27017/octofarm\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("OCTOFARM_PORT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("4000")]),e._v("\n")])])]),t("h2",{attrs:{id:"applying-it-to-your-setup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#applying-it-to-your-setup"}},[e._v("#")]),e._v(" Applying it to your setup")]),e._v(" "),t("p",[e._v("So, you understand the variables to configure OctoFarm now. How do I set this up for my environment? Read below for your specific scenario.")]),e._v(" "),t("h3",{attrs:{id:"nodejs-with-pm2-or-nodemon"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-with-pm2-or-nodemon"}},[e._v("#")]),e._v(" NodeJS with pm2 (or nodemon)")]),e._v(" "),t("p",[e._v("Create a "),t("code",[e._v(".env")]),e._v(" file in the folder you cloned (or downloaded and extracted) OctoFarm with the "),t("strong",[e._v("required")]),e._v(" and/or "),t("em",[e._v("optional")]),e._v(" variables!\nOctoFarm will automatically create this file for you, and if anything is not working a webpage will help you through the basics.")]),e._v(" "),t("p",[e._v("Feel adventurous? Customize the file to your liking, but again ALWAYS make sure the "),t("strong",[e._v("required")]),e._v(" variables are correctly set.")]),e._v(" "),t("h3",{attrs:{id:"docker-compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[e._v("#")]),e._v(" Docker-compose")]),e._v(" "),t("p",[e._v("With docker-compose you have a great tool to pass environment variables use the "),t("code",[e._v("environment")]),e._v(" section.\nBe aware of the following notes:")]),e._v(" "),t("ul",[t("li",[e._v("the "),t("code",[e._v(".env")]),e._v(" file for docker-compose is not applied to OctoFarm unless you use the variables in your "),t("code",[e._v("environment")]),e._v(" section (more on that below)")])]),e._v(" "),t("p",[e._v("Entirely up to you!")]),e._v(" "),t("p",[e._v("Here is how the environment section in docker would look.")]),e._v(" "),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[e._v("services:\n  octofarm:\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ... other sections here")]),e._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# environment using colon syntax")]),e._v("\n    environment:\n      - MONGO: mongodb://127.0.0.1:27017/octofarm\n      - OCTOFARM_PORT: 4000\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ... alternative (watch for whitespace!!) ")]),e._v("\n    environment:\n      MONGO=mongodb://127.0.0.1:27017/octofarm\n      OCTOFARM_PORT=4000\n")])])])])}),[],!1,null,null,null);o.default=r.exports}}]);