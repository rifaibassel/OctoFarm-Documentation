(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{371:function(t,e,r){t.exports=r.p+"assets/img/gotify-example.60f15769.png"},398:function(t,e,r){"use strict";r.r(e);var a=r(27),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"gotify-alerts-with-octofarm-s-scripts-feature"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gotify-alerts-with-octofarm-s-scripts-feature"}},[t._v("#")]),t._v(" Gotify alerts with OctoFarm's scripts feature.")]),t._v(" "),a("p",[t._v("Setup OctoFarm to use "),a("a",{attrs:{href:"https://github.com/gotify",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gofity"),a("OutboundLink")],1),t._v(" with alerts (linux)")]),t._v(" "),a("h2",{attrs:{id:"pre-requisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pre-requisites"}},[t._v("#")]),t._v(" Pre-requisites")]),t._v(" "),a("ul",[a("li",[t._v("Gotify installed and working and knowledge how to setup a new key.")]),t._v(" "),a("li",[t._v("Some linux knowledge")])]),t._v(" "),a("h2",{attrs:{id:"creating-your-script"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-your-script"}},[t._v("#")]),t._v(" Creating your script.")]),t._v(" "),a("p",[t._v("NOTE: Bash is used here on the linux platform.")]),t._v(" "),a("p",[t._v('Open your favorite file editor and past in the below making sure to replace the url for your host e.g. "https://gotify.octofarm.net" and the {token} to what you setup in gotify.')]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash          ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{url}/message?token={token}"')]),t._v(" -F "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title=OctoFarm Alert"')]),t._v(" -F "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message='),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v(" -F "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"priority=5"')]),t._v("\n")])])]),a("p",[t._v("make sure your script is set as executable and the user running nodejs can access the script. Also take note of the full path for your script.")]),t._v(" "),a("h2",{attrs:{id:"setup-octofarm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-octofarm"}},[t._v("#")]),t._v(" Setup OctoFarm.")]),t._v(" "),a("p",[t._v("Go into OctoFarm alerts so System -> Alerts and create a new alert.")]),t._v(" "),a("p",[t._v("Trigger: Pick the trigger you would like.")]),t._v(" "),a("p",[t._v("Script Location: "),a("code",[t._v("/home/octofarm/printerAlert.sh")]),t._v(" - Where ever you saved the script.")]),t._v(" "),a("p",[t._v("Message: What ever message you would like. Make sure to check the Variable List and see what information is available to pass through.")]),t._v(" "),a("p",[t._v("Example:\n"),a("code",[t._v("[CurrentTime] : [PrinterName]: was paused. It has [PercentRemaining] left to print of [CurrentFile]. The tool temp is Tool0: [Tool0Temp] Bed: [BedTemp] and at a Z of: [CurrentZ]. There is [EstimatedTime] left on the print and should finish around [ETA].")])]),t._v(" "),a("p",[t._v("Click save and your done, it will listen for that event and fire your script.")]),t._v(" "),a("h2",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" Example")]),t._v(" "),a("p",[a("img",{attrs:{src:r(371),alt:""}})])])}),[],!1,null,null,null);e.default=s.exports}}]);