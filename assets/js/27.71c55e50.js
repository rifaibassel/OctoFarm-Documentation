(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{403:function(o,e,t){"use strict";t.r(e);var a=t(27),s=Object(a.a)({},(function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[t("h1",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[o._v("#")]),o._v(" Docker")]),o._v(" "),t("p",[o._v("NOTE I assume you are familiar with "),t("code",[o._v("docker")]),o._v(" or "),t("code",[o._v("docker-compose")]),o._v(". These are great tools for isolating your software deployment (+), but it be quite new to some users (-).")]),o._v(" "),t("ul",[t("li",[o._v("I cannot support each custom scenario or setup!")])]),o._v(" "),t("h2",{attrs:{id:"tags"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tags"}},[o._v("#")]),o._v(" Tags")]),o._v(" "),t("p",[o._v("We provide "),t("code",[o._v("octofarm/octofarm:latest")]),o._v(" and "),t("code",[o._v("octofarm/octofarm:monolithic-latest")])]),o._v(" "),t("ul",[t("li",[t("code",[o._v("latest")]),o._v("require you to run MongoDB or a MongoDB container (see compose below)")]),o._v(" "),t("li",[t("code",[o._v("monolithic")]),o._v(" does not require a separate MongoDB, but we at OctoFarm personally like MongoDB to be separate (docker = isolation remember?).")])]),o._v(" "),t("p",[o._v("You can check out the latest development version by replacing "),t("code",[o._v("-latest")]),o._v(" with "),t("code",[o._v("-dev")]),o._v(" so "),t("code",[o._v("octofarm/octofarm:dev")])]),o._v(" "),t("h2",{attrs:{id:"docker-run"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-run"}},[o._v("#")]),o._v(" Docker Run")]),o._v(" "),t("p",[o._v("You can get up and running quite easily with the command below. It's recommended to use the docker-compose instructions below for a more persistent configuration.")]),o._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[o._v("docker run -d --name octofarm -e "),t("span",{pre:!0,attrs:{class:"token string"}},[o._v('"MONGO=mongodb://{ mongoip }/octofarm"')]),o._v(" -p4000:4000 octofarm/octofarm -e "),t("span",{pre:!0,attrs:{class:"token string"}},[o._v('"TZ=America/Chicago"')]),o._v(" -v "),t("span",{pre:!0,attrs:{class:"token string"}},[o._v("'{your persistent folder}/OctoFarm/scripts/'")]),o._v(":/scripts/"),t("span",{pre:!0,attrs:{class:"token string"}},[o._v("':'")]),o._v("rw"),t("span",{pre:!0,attrs:{class:"token string"}},[o._v("' -v '")]),t("span",{pre:!0,attrs:{class:"token operator"}},[o._v("<")]),o._v("your persistent folder"),t("span",{pre:!0,attrs:{class:"token operator"}},[o._v(">")]),o._v("/OctoFarm/logs/"),t("span",{pre:!0,attrs:{class:"token string"}},[o._v("':'")]),o._v("/app/logs/"),t("span",{pre:!0,attrs:{class:"token string"}},[o._v("':'")]),o._v("rw"),t("span",{pre:!0,attrs:{class:"token string"}},[o._v("' -v '")]),o._v("./OctoFarm/images"),t("span",{pre:!0,attrs:{class:"token string"}},[o._v("':'")]),o._v("/app/images"),t("span",{pre:!0,attrs:{class:"token string"}},[o._v("':rw'")]),o._v("\n")])])]),t("p",[o._v("Environment Variables")]),o._v(" "),t("ul",[t("li",[o._v("MONGO = contains mongodb connection string")]),o._v(" "),t("li",[o._v('TZ = local timezone code e.g. "America/Chicago" Database of TimeZone Values Here')])]),o._v(" "),t("h2",{attrs:{id:"docker-compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[o._v("#")]),o._v(" Docker Compose")]),o._v(" "),t("h3",{attrs:{id:"docker-images-latest-with-separate-mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-images-latest-with-separate-mongodb"}},[o._v("#")]),o._v(" Docker images 'latest' with separate MongoDb")]),o._v(" "),t("p",[t("strong",[o._v("Pay good attention that you have to configure your root-user's username and password for MongoDB and that OctoFarm needs it to work!")])]),o._v(" "),t("p",[o._v("Replace the values for "),t("code",[o._v("MONGO_ROOTUSER_HERE")]),o._v(", "),t("code",[o._v("MONGO_PASSWORD_HERE")]),o._v(" below!")]),o._v(" "),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[o._v("version: '3.4' \n\nservices:\n  mongodb:\n    image: mongo:latest\n    container_name: mongodb\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: MONGO_ROOTUSER_HERE\n      MONGO_INITDB_ROOT_PASSWORD: MONGO_PASSWORD_HERE\n      MONGO_INITDB_DATABASE: octofarm\n    volumes:\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[o._v("# Local volume (change to mongodb-data for a named volume folder)")]),o._v("\n      - ./mongodb-data:/data/db\n    restart: unless-stopped\n\n  octofarm:\n    container_name: octofarm\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[o._v("# choose octofarm/octofarm:latest")]),o._v("\n    image: octofarm/octofarm:latest\n    restart: unless-stopped\n    links:\n      - mongodb\n    ports:\n      - 4000:4000 # port of SYSTEM : port of CONTAINER\n    environment:\n      - MONGO=mongodb://MONGO_ROOTUSER_HERE:MONGO_PASSWORD_HERE@mongodb:27017/octofarm?authSource=admin\n    volumes:\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[o._v("# Volumes as local relative folders (validate with 'docker-compose config')")]),o._v("\n      - ./OctoFarm/logs:/app/logs\n      - ./OctoFarm/scripts:/app/scripts\n      - ./OctoFarm/images:/app/images\n")])])]),t("h3",{attrs:{id:"docker-image-monolithic-latest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-image-monolithic-latest"}},[o._v("#")]),o._v(" Docker image 'monolithic-latest'")]),o._v(" "),t("p",[o._v("The monolithic image does not require MongoDB externally, but it also has less control over MongoDB setup:")]),o._v(" "),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[o._v(" octofarm-monolithic:\n    container_name: octofarm-monolithic\n    image: octofarm/octofarm:monolithic-latest\n    restart: unless-stopped\n    volumes:\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[o._v("# Local volumes, can be made named")]),o._v("\n      - ./OctoFarm/logs:/app/logs   \n      - ./OctoFarm/scripts:/app/scripts\n      - ./OctoFarm/images:/app/images\n      - ./mongodb-data:/data/db \n    ports:\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[o._v("# SYSTEM:CONTAINER")]),o._v("\n      - 4000:4000\n")])])]),t("p",[o._v("Enjoy using OctoFarm with docker and do share your big-flex juicy pics on "),t("a",{attrs:{href:"https://discord.octofarm.net",target:"_blank",rel:"noopener noreferrer"}},[o._v("Our Discord"),t("OutboundLink")],1),o._v(".")])])}),[],!1,null,null,null);e.default=s.exports}}]);