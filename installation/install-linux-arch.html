<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux (Arch) | OctoFarms Documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="OctoFarms official documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.48e8e2bb.css" as="style"><link rel="preload" href="/assets/js/app.512a2525.js" as="script"><link rel="preload" href="/assets/js/2.965b894a.js" as="script"><link rel="preload" href="/assets/js/28.6039974d.js" as="script"><link rel="preload" href="/assets/js/4.c8c44e52.js" as="script"><link rel="prefetch" href="/assets/js/10.1e710ca1.js"><link rel="prefetch" href="/assets/js/11.3aeb6364.js"><link rel="prefetch" href="/assets/js/12.6a316914.js"><link rel="prefetch" href="/assets/js/13.14518694.js"><link rel="prefetch" href="/assets/js/14.3ddd9462.js"><link rel="prefetch" href="/assets/js/15.d0ae670b.js"><link rel="prefetch" href="/assets/js/16.3809293c.js"><link rel="prefetch" href="/assets/js/17.3619fa02.js"><link rel="prefetch" href="/assets/js/18.c754bae6.js"><link rel="prefetch" href="/assets/js/19.af2ff19d.js"><link rel="prefetch" href="/assets/js/20.5d2399f9.js"><link rel="prefetch" href="/assets/js/21.dcc69a65.js"><link rel="prefetch" href="/assets/js/22.a5b45674.js"><link rel="prefetch" href="/assets/js/23.b04627e1.js"><link rel="prefetch" href="/assets/js/24.87efbd3d.js"><link rel="prefetch" href="/assets/js/25.4ac9a353.js"><link rel="prefetch" href="/assets/js/26.4397ebca.js"><link rel="prefetch" href="/assets/js/27.71c55e50.js"><link rel="prefetch" href="/assets/js/29.cd7e2b34.js"><link rel="prefetch" href="/assets/js/3.95bb4ed9.js"><link rel="prefetch" href="/assets/js/30.bbc7e51f.js"><link rel="prefetch" href="/assets/js/31.27d09204.js"><link rel="prefetch" href="/assets/js/32.a582a39d.js"><link rel="prefetch" href="/assets/js/33.f46ea3c2.js"><link rel="prefetch" href="/assets/js/34.d36377b0.js"><link rel="prefetch" href="/assets/js/35.c28071e6.js"><link rel="prefetch" href="/assets/js/36.75012aba.js"><link rel="prefetch" href="/assets/js/37.6ee75b18.js"><link rel="prefetch" href="/assets/js/5.b307729f.js"><link rel="prefetch" href="/assets/js/6.e55b13fa.js"><link rel="prefetch" href="/assets/js/7.4abc5fac.js"><link rel="prefetch" href="/assets/js/8.1a4b60f9.js"><link rel="prefetch" href="/assets/js/9.75a81c4f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.48e8e2bb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="OctoFarms Documentation" class="logo"> <span class="site-name can-hide">OctoFarms Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/getting-started/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/installation/" class="nav-link router-link-active">
  Installation
</a></div><div class="nav-item"><a href="https://octofarm.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OctoFarm.net
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/OctoFarm/OctoFarm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/getting-started/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/guides/" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/installation/" class="nav-link router-link-active">
  Installation
</a></div><div class="nav-item"><a href="https://octofarm.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OctoFarm.net
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/OctoFarm/OctoFarm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Installation Instructions</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/installation/install-docker.html" class="sidebar-link">Docker</a></li><li><a href="/installation/install-linux-arch.html" aria-current="page" class="active sidebar-link">Linux (Arch)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_1-update-your-repositories-and-packages-fully" class="sidebar-link">1 Update your repositories and packages fully:</a></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_2-install-necessary-dependencies" class="sidebar-link">2 Install necessary dependencies:</a></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_3-verify-correct-nodejs-version-needs-to-be-14" class="sidebar-link">3 Verify correct Nodejs version (needs to be 14+)</a></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_4-mongodb" class="sidebar-link">4 MongoDB</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_4-1-install-necessary-tools" class="sidebar-link">4.1 Install necessary tools</a></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_4-2-install-mongodb-bin-from-aur" class="sidebar-link">4.2 Install mongodb-bin from AUR:</a></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_4-3-start-and-make-mongodb-persist-reboots" class="sidebar-link">4.3 Start and make MongoDB persist reboots</a></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_5-1-update-npm-to-the-latest" class="sidebar-link">5.1 Update npm to the latest</a></li></ul></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_5-2-install-pm2" class="sidebar-link">5.2 Install pm2:</a></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_6-obtain-and-start-octofarm" class="sidebar-link">6 Obtain and start OctoFarm</a></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#_7-allow-traffic-on-port-4000" class="sidebar-link">7 Allow traffic on port 4000</a></li><li class="sidebar-sub-header"><a href="/installation/install-linux-arch.html#additional" class="sidebar-link">Additional</a></li></ul></li><li><a href="/installation/install-linux-debian.html" class="sidebar-link">Linux (Debian)</a></li><li><a href="/installation/install-linux-opensuse.html" class="sidebar-link">Linux (OpenSUSE)</a></li><li><a href="/installation/install-linux-redhat.html" class="sidebar-link">Linux (RedHat)</a></li><li><a href="/installation/install-linux-ubuntu.html" class="sidebar-link">Linux (Ubuntu)</a></li><li><a href="/installation/install-raspberry-pi.html" class="sidebar-link">Raspberry Pi</a></li><li><a href="/installation/install-windows.html" class="sidebar-link">Windows (10/11)</a></li><li><a href="/installation/setup-environment.html" class="sidebar-link">Environment Variables</a></li><li><a href="/installation/setup-service.html" class="sidebar-link">Service Setup</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="linux-arch"><a href="#linux-arch" class="header-anchor">#</a> Linux (Arch)</h1> <p>Verfied working as of Aug/30th 2021. Arch is a rolling release so this may be subject to sudden change.</p> <h2 id="_1-update-your-repositories-and-packages-fully"><a href="#_1-update-your-repositories-and-packages-fully" class="header-anchor">#</a> 1 Update your repositories and packages fully:</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -Syu
</code></pre></div><h2 id="_2-install-necessary-dependencies"><a href="#_2-install-necessary-dependencies" class="header-anchor">#</a> 2 Install necessary dependencies:</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S nodejs gcc <span class="token function">make</span> <span class="token function">git</span> <span class="token function">npm</span>
</code></pre></div><h2 id="_3-verify-correct-nodejs-version-needs-to-be-14"><a href="#_3-verify-correct-nodejs-version-needs-to-be-14" class="header-anchor">#</a> 3 Verify correct Nodejs version (needs to be 14+)</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>node --version`
</code></pre></div><h2 id="_4-mongodb"><a href="#_4-mongodb" class="header-anchor">#</a> 4 MongoDB</h2> <p>This is somewhat of a pain on Arch. Because of licensing concerns it is not provided as a package from the official repository so we will need to install the binary from AUR. You may use a AUR helper (such as yay) if you prefer. It is also possible to leverage something like Atlas MongoDB but that is beyond the scope of this documentation. This being Linux (and especially a variant like Arch) there are a probably a couple dozen ways to skin this cat including but not limited to containers (Docker, Podman, etc) Flatpaks, appimages, etc.</p> <p>Just keep in mind that there is no accounting for what is in a binary blob; we have no way of telling what options it is compiled with, and what the pkgbuild looked like. The problem is that compiling MongoDB from source takes a stunning ~200GB of disk space and several hours on a decent CPU. This makes &quot;doing it correctly&quot; burdensome to say the least. Understand what you are doing and the origin of the code if you are going to install a binary from a non-official repository and take precautions.</p> <p>TL:DR use at your own risk.</p> <h3 id="_4-1-install-necessary-tools"><a href="#_4-1-install-necessary-tools" class="header-anchor">#</a> 4.1 Install necessary tools</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S --needed base-devel
</code></pre></div><h3 id="_4-2-install-mongodb-bin-from-aur"><a href="#_4-2-install-mongodb-bin-from-aur" class="header-anchor">#</a> 4.2 Install mongodb-bin from AUR:</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://aur.archlinux.org/mongodb-bin.git
<span class="token builtin class-name">cd</span> mongodb-bin
makepkg -si
</code></pre></div><h3 id="_4-3-start-and-make-mongodb-persist-reboots"><a href="#_4-3-start-and-make-mongodb-persist-reboots" class="header-anchor">#</a> 4.3 Start and make MongoDB persist reboots</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> mongodb --now
<span class="token function">sudo</span> systemctl status mongodb
</code></pre></div><h3 id="_5-1-update-npm-to-the-latest"><a href="#_5-1-update-npm-to-the-latest" class="header-anchor">#</a> 5.1 Update npm to the latest</h3> <ul><li>Due to some update dependencies in V1.2+ we need to update our local npm version to the latest.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>sudo npm install npm@latest -g
</code></pre></div><h2 id="_5-2-install-pm2"><a href="#_5-2-install-pm2" class="header-anchor">#</a> 5.2 Install pm2:</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> pm2 -g
</code></pre></div><h2 id="_6-obtain-and-start-octofarm"><a href="#_6-obtain-and-start-octofarm" class="header-anchor">#</a> 6 Obtain and start OctoFarm</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~
<span class="token function">git</span> clone --depth <span class="token number">1</span> https://github.com/OctoFarm/OctoFarm.git
<span class="token builtin class-name">cd</span> OctoFarm/
<span class="token function">npm</span> start
pm2 list
</code></pre></div><ul><li>You should see something similar to:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[mnavarro@ArchLinux OctoFarm]$ pm2 list
┌────┬────────────────────┬──────────┬──────┬───────────┬──────────┬──────────┐
│ id │ name               │ mode     │ ↺    │ status    │ cpu      │ memory   │
├────┼────────────────────┼──────────┼──────┼───────────┼──────────┼──────────┤
│ 0  │ OctoFarm           │ fork     │ 0    │ online    │ 0%       │ 94.1mb   │
└────┴────────────────────┴──────────┴──────┴───────────┴──────────┴──────────┘
</code></pre></div><h2 id="_7-allow-traffic-on-port-4000"><a href="#_7-allow-traffic-on-port-4000" class="header-anchor">#</a> 7 Allow traffic on port 4000</h2> <p>This will depend on your particular installation of Arch (iptables, Firewalld, etc etc). Just make sure port 4000 tcp/udp (or whatever port you have the application running on) is open to traffic from your client machine.</p> <p>That's it. Navigate to &lt;printer_ip&gt;:4000 (example: &quot;192.168.100.10:4000&quot;) in your browser and have a day!</p> <h2 id="additional"><a href="#additional" class="header-anchor">#</a> Additional</h2> <p>OctoFarms service is fully controllable from the cli, and you can also action restarts from the UI. It is not setup as persistent as default to do so please check the following documentation:
<a href="/installation/setup-service.html">Service Setup</a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/OctoFarm/OctoFarm-Documentation/edit/master/src/installation/install-linux-arch.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.512a2525.js" defer></script><script src="/assets/js/2.965b894a.js" defer></script><script src="/assets/js/28.6039974d.js" defer></script><script src="/assets/js/4.c8c44e52.js" defer></script>
  </body>
</html>
